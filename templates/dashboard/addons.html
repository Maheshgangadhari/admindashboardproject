<!DOCTYPE html>

{% extends 'base.html' %}
{% load static %}
{% block title %}
    addons
{% endblock %}


    <link href="{% static 'dashboard/assets/vertical/assets/plugins/magnific-popup/magnific-popup.css' %}" rel="stylesheet" type="text/css">

    <link href="{% static 'dashboard/assets/js/jquery-confirm.min.css' %}" rel="stylesheet">

    <link href="{% static 'dashboard/assets/vertical/assets/plugins/morris/morris.css' %}" rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">

    <link href="{% static 'dashboard/assets/css/jquery-ui.css' %}" rel="stylesheet" type="text/css">

    <link href="{% static 'dashboard/assets/vertical/assets/plugins/chartist/css/chartist.min.css' %}" rel="stylesheet" type="text/css">

    <link href="{% static 'dashboard/assets/vertical/assets/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css">

    <link href="{% static 'dashboard/assets/vertical/assets/css/icons.css' %}" rel="stylesheet" type="text/css">

    <link href="{% static 'dashboard/assets/vertical/assets/css/style.css' %}" rel="stylesheet" type="text/css">

    <link href="{% static 'dashboard/assets/template/css/admin.style.css' %}" rel="stylesheet">

    <link href="{% static 'dashboard/assets/template/css/admin.responsive.css' %}" rel="stylesheet">

    <link href="{% static 'dashboard/assets/vertical/assets/plugins/RWD-Table-Patterns/dist/css/rwd-table.min.css' %}" rel="stylesheet" type="text/css" media="screen">


    <link href="{% static 'dashboard/assets/css/jquery.uploadPreviewer.css?v=6.2" rel="stylesheet" type="text/css" media="screen">


    <script src="{% static 'dashboard/assets/js/jquery.min.js' %}"></script>
    <script type="text/javascript">
        window.affiliatePro = {
            base_url: ""
        }
    </script>

    <link href="{% static 'dashboard/assets/plugins/datetimepicker/jquery.datetimepicker.min.css' %}" rel="stylesheet" />

    <script src="{% static 'dashboard/assets/plugins/datetimepicker/jquery.datetimepicker.full.min.js' %}"></script>

    <link href="{% static 'dashboard/assets/plugins/datatable/select2.css' %}" rel="stylesheet" />

    <script src={% static 'dashboard/assets/plugins/datatable/select2.min.js' %}"></script>

    <script src={% static 'dashboard/assets/js/jscolor.js' %}"></script>

    <script type="text/javascript" src="{% static 'dashboard/assets/sweetalert/sweetalert.min.js' %}"></script>

    <script type="text/javascript" src="{% static 'dashboard/assets/plugins/color-picker/spectrum.js' %}"></script>

    <link rel='stylesheet' href="{% static 'dashboard/assets/plugins/color-picker/spectrum.css' %}" />

    <link rel='stylesheet' href="{% static 'dashboard/assets/css/admin-common.css' %}" />

    <script type="text/javascript">
        (function($) {
            $.fn.btn = function(action) {
                var self = $(this);
                var tagName = self.prop("tagName");

                if (tagName == 'A') {
                    if (action == 'loading') {
                        $(self).addClass("disabled");
                        $(self).attr('data-text', $(self).text());
                        $(self).text('admin.loading' + "..");
                    }

                    if (action == 'reset') $(self).text($(self).attr('data-text'));
                    $(self).removeClass("disabled");

                } else {
                    if (action == 'loading') $(self).addClass("btn-loading");

                    if (action == 'reset') $(self).removeClass("btn-loading");
                }
            }
        })(jQuery);

        $(document).delegate('a.disabled', "click", function(e) {
            e.preventDefault();
        });

        var formDataFilter = function(formData) {
            if (!(window.FormData && formData instanceof window.FormData)) return formData

            if (!formData.keys) return formData

            var newFormData = new window.FormData()

            Array.from(formData.entries()).forEach(function(entry) {
                var value = entry[1]
                if (value instanceof window.File && value.name === '' && value.size === 0)
                    newFormData.append(entry[0], new window.Blob([]), '')
                else
                    newFormData.append(entry[0], value)

            })

            return newFormData
        }

        function apply_color(ele) {
            $(ele).spectrum({
                preferredFormat: "rgb",
                showInput: true,
                className: "full-spectrum",
                showInitial: true,
                showPalette: true,
                showSelectionPalette: true,
                maxSelectionSize: 10,
                localStorageKey: "bolly_fashion",
                allowEmpty: true,
                palette: [
                    ["transparent"],

                    ["rgb(255, 255, 255)", "rgb(230, 184, 175)", "rgb(244, 204, 204)", "rgb(252, 229, 205)", "rgb(255, 242, 204)", "rgb(217, 234, 211)",

                        "rgb(208, 224, 227)", "rgb(201, 218, 248)", "rgb(207, 226, 243)", "rgb(217, 210, 233)", "rgb(234, 209, 220)",

                        "rgb(221, 126, 107)", "rgb(234, 153, 153)", "rgb(249, 203, 156)", "rgb(255, 229, 153)", "rgb(182, 215, 168)",

                        "rgb(162, 196, 201)", "rgb(164, 194, 244)", "rgb(159, 197, 232)", "rgb(180, 167, 214)", "rgb(213, 166, 189)",

                        "rgb(204, 65, 37)", "rgb(224, 102, 102)", "rgb(246, 178, 107)", "rgb(255, 217, 102)", "rgb(147, 196, 125)",

                        "rgb(118, 165, 175)", "rgb(109, 158, 235)", "rgb(111, 168, 220)", "rgb(142, 124, 195)", "rgb(194, 123, 160)",

                        "rgb(166, 28, 0)", "rgb(204, 0, 0)", "rgb(230, 145, 56)", "rgb(241, 194, 50)", "rgb(106, 168, 79)",

                        "rgb(69, 129, 142)", "rgb(60, 120, 216)", "rgb(61, 133, 198)", "rgb(103, 78, 167)", "rgb(166, 77, 121)",

                        "rgb(91, 15, 0)", "rgb(102, 0, 0)", "rgb(120, 63, 4)", "rgb(127, 96, 0)", "rgb(39, 78, 19)",

                        "rgb(12, 52, 61)", "rgb(28, 69, 135)", "rgb(7, 55, 99)", "rgb(32, 18, 77)", "rgb(76, 17, 48)"
                    ]
                ]
            });
        }
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358958-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-115358958-3');
    </script>


{% block body_block %}
    <div class="main">
        <div class="overly"></div>

        {% include 'navgation.html' %}
        <div class="dashboard-wrap">
            <div class="dashboard-main-right">
              {% include 'rightheader.html' %}

                    <div class="server-errors">
                    </div>
                    <script>
                        function sessionTimeout() {
                            var dt = new Date();
                            let distance = (GlobaleCountDownDate - dt.getTime()) / 1000;

                            let h = Math.floor(distance / 3600);
                            let m = Math.floor(distance % 3600 / 60);
                            let s = Math.floor(distance % 3600 % 60);

                            let string = "";

                            string += (h > 0) ? ('0' + h).slice(-2) + ":" : "00:";

                            string += (m > 0) ? ('0' + m).slice(-2) + ":" : "00:";

                            string += (s > 0) ? ('0' + s).slice(-2) + "" : "00";

                            $(".dashboard-refresh em").text(string);

                            if (distance <= 0) {
                                window.location.replace('logout');
                                clearInterval(GlobaleCountDownDateInterval);
                            }
                        }

                        var dt = new Date();
                        var GlobaleCountDownDate = dt.setTime(dt.getTime() + (1800 * 1000));

                        sessionTimeout();
                        var GlobaleCountDownDateInterval = setInterval(sessionTimeout, 100);

                        $(document).ajaxComplete(function (event, request, settings) {
                            let parts = settings.url.split("/");
                            let last_part = parts[parts.length - 1];
                            if (last_part != "ajax_dashboard") {
                                var dt = new Date();
                                var GlobaleCountDownDate = dt.setTime(dt.getTime() + (1800 * 1000));
                            }
                        });
                    </script>
                    <div class="content-wrapper">


                        <style>
                            .switch {
                                position: relative;
                                display: inline-block;
                                width: 60px;
                                height: 34px;
                                margin-top: 50px;
                            }

                            .switch input {
                                opacity: 0;
                                width: 0;
                                height: 0;
                            }

                            .slider {
                                position: absolute;
                                cursor: pointer;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background-color: #ccc;
                                -webkit-transition: .4s;
                                transition: .4s;
                            }

                            .slider:before {
                                position: absolute;
                                content: "";
                                height: 26px;
                                width: 26px;
                                left: 4px;
                                bottom: 4px;
                                background-color: white;
                                -webkit-transition: .4s;
                                transition: .4s;
                            }

                            input:checked + .slider {
                                background-color: #2196F3;
                            }

                            input:focus + .slider {
                                box-shadow: 0 0 1px #2196F3;
                            }

                            input:checked + .slider:before {
                                -webkit-transform: translateX(26px);
                                -ms-transform: translateX(26px);
                                transform: translateX(26px);
                            }

                            .slider.round {
                                border-radius: 34px;
                            }

                            .slider.round:before {
                                border-radius: 50%;
                            }

                            .card-title {
                                text-align: center;
                            }

                            .card-header {
                                font-size: 20px;
                            }
                        </style>

                        <div class="addon-module-switcher">
                            <div class="card card-title text-white bg-info mb-3">
                                <div class="card-header">MLM</div>
                                <div class="card-body">
                                    <label class="switch"><input class="activity" type="checkbox"
                                                                 data-setting_type="referlevel"
                                                                 data-setting_key="status" data-sidebar="mlm"
                                                                 checked><span class="slider round"></span></label>
                                </div>
                            </div>

                            <div class="card card-title text-white bg-info mb-3">
                                <div class="card-header">SAAS</div>
                                <div class="card-body">
                                    <label class="switch"><input class="activity" type="checkbox"
                                                                 data-setting_type="market_vendor"
                                                                 data-setting_key="marketvendorstatus"
                                                                 data-sidebar="saas" checked><span
                                            class="slider round"></span></label>
                                </div>
                            </div>

                            <div class="card card-title text-white bg-info mb-3">
                                <div class="card-header">LOCAL STORE</div>
                                <div class="card-body">
                                    <label class="switch"><input class="activity" type="checkbox"
                                                                 data-setting_type="store" data-setting_key="status"
                                                                 data-sidebar="store" checked><span
                                            class="slider round"></span></label>
                                </div>
                            </div>

                            <div class="card card-title text-white bg-info mb-3">
                                <div class="card-header">MEMBERSHIP</div>
                                <div class="card-body">
                                    <label class="switch"><input class="activity" type="checkbox"
                                                                 data-setting_type="membership"
                                                                 data-setting_key="status" data-sidebar="membership"
                                                                 checked><span class="slider round"></span></label>
                                </div>
                            </div>

                            <div class="card card-title text-white bg-info mb-3">
                                <div class="card-header">VENDOR DEPOSIT</div>
                                <div class="card-body">
                                    <label class="switch"><input class="activity" type="checkbox"
                                                                 data-setting_type="vendor"
                                                                 data-setting_key="depositstatus" data-sidebar="vendor"
                                                                 checked><span class="slider round"></span></label>
                                </div>
                            </div>

                            <div class="card card-title text-white bg-info mb-3">
                                <div class="card-header">Award level</div>
                                <div class="card-body">
                                    <label class="switch"><input class="activity" type="checkbox"
                                                                 data-setting_type="award_level"
                                                                 data-setting_key="status" data-sidebar="award_level"
                                                                 checked><span class="slider round"></span></label>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Setting</div>
                                    <div class="card-body">
                                        <a href="paymentsetting"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Language</div>
                                    <div class="card-body">
                                        <a href="language" target="_blank"
                                           role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Currency</div>
                                    <div class="card-body">
                                        <a href="currency_list"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>


                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Mail Templates</div>
                                    <div class="card-body">
                                        <a href="mails" target="_blank"
                                           role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>


                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Registration form</div>
                                    <div class="card-body">
                                        <a href="registration_builder"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Backups</div>
                                    <div class="card-body">
                                        <a href="backup" target="_blank"
                                           role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>


                        </div>

                        <div class="row">

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Update Version</div>
                                    <div class="card-body">
                                        <a href="install_new_version"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">System Status</div>
                                    <div class="card-body">
                                        <a href="system_status"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">System License</div>
                                    <div class="card-body">
                                        <a href="script_details"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">Theme Colors</div>
                                    <div class="card-body">
                                        <a href="theme_setting"
                                           target="_blank" role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">How To Integrate ?</div>
                                    <div class="card-body">
                                        <a href="https://demo.affiliatepro.org/integration/how_to_start" target="_blank"
                                           role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="card card-title text-white bg-info mb-3">
                                    <div class="card-header">First Settings</div>
                                    <div class="card-body">
                                        <a href="https://demo.affiliatepro.org/firstsetting" target="_blank"
                                           role="button" class="btn btn-primary btn-sm">GO TO MODULE</a>
                                    </div>
                                </div>
                            </div>

                        </div>


                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Integration Plugins</h5>
                                    </div>

                                    <div class="card-body">
                                        <div class="row integration-modules">
                                            <div class="col-sm-2">
                                                <div class="text-center integration-modules-list">
                                                    <a href="https://demo.affiliatepro.org/integration/instructions/wp_user_register">
                                                        <img src="{% static 'dashboard/assets/integration/WordpressWoocommerceRegistrationBridge.png' %}" class="w-100">
										<div class=" modules-title">Wordpress/Woocommerce registration bridge</div>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="text-center integration-modules-list">
                                                <a href="https://demo.affiliatepro.org/integration/instructions/wp_forms">
                                                    <img src="{% static 'dashboard/assets/integration/wpforms.png' %}" class="w-100">
										<div class=" modules-title">WordPress Forms</div>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="text-center integration-modules-list">
                                            <a href="market_tools_setting">
                                                <img src="{% static 'dashboard/assets/integration/postback.png' %}" class="w-100">
										<div class=" modules-title">Postback URL</div>
                                        </a>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="text-center integration-modules-list">
                                        <a href="https://demo.affiliatepro.org/integration/instructions/show_affiliate_id">
                                            <img src="{% static 'dashboard/assets/integration/show-affiliate-id.png' %}" class="w-100">
										<div class=" modules-title">Show Affiliate ID</div>
                                    </a>
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <div class="text-center integration-modules-list">
                                    <a href="https://demo.affiliatepro.org/integration/instructions/wp_show_affiliate_id">
                                        <img src="{% static 'dashboard/assets/integration/wp-show-affiliate-id.jpg' %}" class="w-100">
										<div class=" modules-title">Wordpress Show Affiliate ID</div>
                                </a>
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="text-center integration-modules-list">
                                <a href="https://demo.affiliatepro.org/integration/instructions/affiliate_register_api">
                                    <img src="{% static 'dashboard/assets/integration/affiliate_register_api.jpg' %}" class="w-100">
										<div class=" modules-title">Affiliate Register API</div>
                            </a>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="text-center integration-modules-list">
                            <a href="https://demo.affiliatepro.org/integration/instructions/php_api_library">
                                <img src="{% static 'dashboard/assets/integration/php_api_library.jpg' %}" class="w-100">
										<div class=" modules-title">PHP Api Library</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>


    <script type="text/javascript">
        $("input[data-setting_key='depositstatus']").on('change', function () {
            if ($(this).is(':checked')) {
                Swal.fire({
                    icon: 'info',
                    text: "INFO! The deposit module is ON! This means, your vendors will deposit the amount from your setting and all the generated commissions under the vendor account will be reduced from the vendor deposit balance and will be added to the admin balance for paying those generated commissions!",
                })
            } else {
                Swal.fire({
                    icon: 'warning',
                    text: "ATTENTION! The deposit module is OFF! This means, you as admin will need to pay all the commissions that are generated by all your vendor's accounts!",
                })
            }
        })

        $(document).on('change', '.activity', function () {
            let setting_type = $(this).data('setting_type');
            let setting_key = $(this).data('setting_key');
            let val = $(this).prop('checked') ? 1 : 0;

            let menu = $(this).data('sidebar');

            if (val) {
                $('#sidebar_' + menu).show();
                $(this).closest('.card').removeClass('bg-secondary');
                $(this).closest('.card').addClass('bg-info');
            } else {
                $('#sidebar_' + menu).hide();
                $(this).closest('.card').addClass('bg-secondary');
                $(this).closest('.card').removeClass('bg-info');
            }

            $.ajax({
                type: "POST",
                data: {
                    action: 'change_status',
                    setting_type: setting_type,
                    setting_key: setting_key,
                    val: val
                },
                success: function (res) {
                },
            });
        });
    </script>
    <script type="text/javascript">
        function resetNotify() {
            $.ajax({
                url: 'resetnotify',
                type: 'POST',
                dataType: 'json',
                beforeSend: function () {
                },
                success: function (response) {
                    if (response.status == 1)
                        $(".ajax-notifications_count").text(0);
                },
            })
        }
    </script>


    </div>

    <div class="modal modal-style" id="setting-widzard"></div>
    <div class="modal modal-style" id="log-widzard"></div>

    <div class="modal" id="model-ajaxError">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <img src="{% static 'dashboard/assets/images/ajax-warning.png' %}">
                                    <div class=" -body">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Dismiss</button>
            </div>
        </div>
    </div>
    </div>

    <script type="text/javascript" src="{% static 'dashboard/assets/plugins/toastr/toastr.js' %}"></script>
                    <script type=" text/javascript">
    var serverErrorCode = {
    100: 'Continue',
    101: 'Switching Protocols',
    102: 'Processing',
    200: 'OK',
    201: 'Created',
    202: 'Accepted',
    203: 'Non-Authoritative Information',
    204: 'No Content',
    205: 'Reset Content',
    206: 'Partial Content',
    207: 'Multi-Status',
    208: 'Already Reported',
    226: 'IM Used',
    300: 'Multiple Choices',
    301: 'Moved Permanently',
    302: 'Found',
    303: 'See Other',
    304: 'Not Modified',
    305: 'Use Proxy',
    306: 'Switch Proxy',
    307: 'Temporary Redirect',
    308: 'Permanent Redirect',
    400: 'Bad Request',
    401: 'Unauthorized',
    402: 'Payment Required',
    403: 'Forbidden',
    404: 'Not Found',
    405: 'Method Not Allowed',
    406: 'Not Acceptable',
    407: 'Proxy Authentication Required',
    408: 'Request Timeout',
    409: 'Conflict',
    410: 'Gone',
    411: 'Length Required',
    412: 'Precondition Failed',
    413: 'Request Entity Too Large',
    414: 'Request-URI Too Long',
    415: 'Unsupported Media Type',
    416: 'Requested Range Not Satisfiable',
    417: 'Expectation Failed',
    418: 'I am a teapot',
    419: 'Authentication Timeout',
    420: 'Enhance Your Calm',
    420: 'Method Failure',
    422: 'Unprocessable Entity',
    423: 'Locked',
    424: 'Failed Dependency',
    424: 'Method Failure',
    425: 'Unordered Collection',
    426: 'Upgrade Required',
    428: 'Precondition Required',
    429: 'Too Many Requests',
    431: 'Request Header Fields Too Large',
    444: 'No Response',
    449: 'Retry With',
    450: 'Blocked by Windows Parental Controls',
    451: 'Redirect',
    451: 'Unavailable For Legal Reasons',
    494: 'Request Header Too Large',
    495: 'Cert Error',
    496: 'No Cert',
    497: 'HTTP to HTTPS',
    499: 'Client Closed Request',
    500: 'Internal Server Error',
    501: 'Not Implemented',
    502: 'Bad Gateway',
    503: 'Service Unavailable',
    504: 'Gateway Timeout',
    505: 'HTTP Version Not Supported',
    506: 'Variant Also Negotiates',
    507: 'Insufficient Storage',
    508: 'Loop Detected',
    509: 'Bandwidth Limit Exceeded',
    510: 'Not Extended',
    511: 'Network Authentication Required',
    598: 'Network read timeout error',
    599: 'Network connect timeout error',
    }

    toastr.options = {
    "closeButton": true,
    "debug": false,
    "newestOnTop": true,
    "progressBar": true,
    "positionClass": "toast-top-right",
    "preventDuplicates": false,
    "onclick": null,
    "showDuration": "300",
    "hideDuration": "20000",
    "timeOut": "20000",
    "extendedTimeOut": "20000",
    "showEasing": "swing",
    "hideEasing": "linear",
    "showMethod": "fadeIn",
    "hideMethod": "fadeOut"
    }

    function show_tost(type, title, message) {
    toastr[type](message, title)
    }

    $(".btn-setting").on('click', function() {
    $this = $(this);
    $("#setting-widzard").modal({
    backdrop: 'static',
    keyboard: false
    });

    $("#setting-widzard").html('Loading');

    $.ajax({
    url: 'https://demo.affiliatepro.org/setting/getModal',
    type: 'POST',
    dataType: 'json',
    data: {
    'key': $this.attr('data-key'),
    'type': $this.attr('data-type'),
    },
    // beforeSend:function(){ $this.btn("loading"); },
    // complete:function(){ $this.btn("reset"); },
    success: function(json) {
    if (json['html']) {
    $("#setting-widzard").html(json['html']);
    }
    },
    })
    })


    $(document).delegate('.allow-number', 'keypress keyup blur', function(event) {
    $(this).val($(this).val().replace(/[^0-9\.]/g, ''));
    if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
    event.preventDefault();
    }
    });

    $(document).delegate("[data-log]", 'click', function() {
    $this = $(this);

    var data = {};
    var search = $this.attr('data-extra');
    if (search) {
    data = JSON.parse('{"' + decodeURI(search).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g, '":"') + '"}')
    }

    data['type'] = $this.attr("data-log");
    $.ajax({
    url: 'logs',
    type: 'POST',
    dataType: 'json',
    data: data,
    beforeSend: function() {
    $this.btn("loading");
    },
    complete: function() {
    $this.btn("reset");
    },
    success: function(json) {
    if (json['html']) {
    $("#log-widzard").modal({
    backdrop: 'static',
    keyboard: false
    });
    $("#log-widzard").html(json['html']);
    }
    },
    })
    })

    $(".password-group .input-group-prepend button").on('click', function() {
    $input = $(this).parents(".password-group").find("input");
    $i = $(this).parents(".password-group").find("i");
    if ($i.hasClass("fa-eye")) {
    $i.addClass("fa-eye-slash");
    $i.removeClass("fa-eye");
    $input.attr('type', 'text');
    } else {
    $i.addClass("fa-eye");
    $i.removeClass("fa-eye-slash");
    $input.attr('type', 'password');
    }
    })

    $(document).ajaxComplete(function myErrorHandler(event, xhr, ajaxOptions, thrownError) {
    var statusCode = xhr.status;


    if (statusCode != 200 && ajaxOptions.type == 'POST') {
    var title = '';
    var body = '';

    title = 'Internal Server Error';
    body += '<h3>Sorry, an error has occured.</h3>';

    if (serverErrorCode[statusCode]) {
    body += "<p>Error Message : " + serverErrorCode[statusCode] + "</p>";
    body += "<p>Error Code : " + statusCode + "</p>";

    $("#model-ajaxError .modal-title").html(title);
    $("#model-ajaxError .modal-body .-body").html(body);
    $("#model-ajaxError").modal("show");
    } else {
    body += '<p>Error Message : Uknown Error </p>';
    }

    $(".btn-loading").removeClass('btn-loading');
    }
    });
    </script>
    </div>
    <div class="dashboard-footer">
        <div class="d-flex align-items-center justify-content-between flex-wrap">
            <div class="footer-rights">
                <img src="{% static 'dashboard/assets/template/images/footer-logo.png' %}" alt="Logo:">
                            <p>Affiliate Script Footer</p>
                        </div>
                        <a href=" script_details">
                <div class="text-right script-right">
                    <img src="{% static 'dashboard/assets/template/images/script-icon.png' %}" alt="">
                                <span>SCRIPT VERSION</span>
                                <span>6.0.0.1</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class=" modal" id="payment-detail_modal">

                    <div class="modal-dialog modal-lg">

                        <div class="modal-content">

                            <div class="modal-header">

                                <h4 class="modal-title mt-0">User Payment Details</h4>

                                <button type="button" class="close" data-dismiss="modal">&times;</button>

                            </div>

                            <div class="modal-body">

                                <h4 class="modal-title mt-0">Bank Details</h4>

                                <div class="table-rep-plugin">

                                    <div class="table-responsive b-0" data-pattern="priority-columns">

                                        <table id="tech-companies-1" class="table  table-striped">

                                            <thead>

                                            <tr>

                                                <th class="txt-cntr">Bank Name</th>

                                                <th class="txt-cntr">Account Number</th>

                                                <th class="txt-cntr">Account Name</th>

                                                <th class="txt-cntr">IFSC Code</th>

                                            </tr>

                                            </thead>

                                            <tbody class="bank-details"></tbody>

                                        </table>

                                    </div>

                                </div>

                                <h4 class="modal-title mt-0">Paypal Emails</h4>

                                <div class="table-rep-plugin">

                                    <div class="table-responsive b-0" data-pattern="priority-columns">

                                        <table id="tech-companies-1" class="table  table-striped">

                                            <thead>

                                            <tr>
                                                <th class="txt-cntr"></th>

                                                <th class="txt-cntr">Email</th>

                                            </tr>

                                            </thead>

                                            <tbody class="paypal-details"></tbody>

                                        </table>

                                    </div>

                                </div>


                                <h4 class="modal-title mt-0">User Details</h4>

                                <div class="table-rep-plugin">

                                    <div class="table-responsive b-0" data-pattern="priority-columns">

                                        <table id="tech-companies-1" class="table  table-striped">

                                            <tbody class="user-details"></tbody>

                                        </table>

                                    </div>

                                </div>

                                <div class="modal-footer">

                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>

                                </div>

                            </div>

                        </div>

                    </div>

                </div>

                <script type="text/javascript">
                    $(document).delegate(".only-number-allow", "keypress", function (e) {
                        if (e.which != 46 && e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57))
                            return false;
                    });

                    $(document).on('ready', function () {
                        if (getCookie('hide_welcome') != 'true')
                            $("#welcome-modal").modal("show");
                    })

                    function setCookie(cname, cvalue, exdays) {
                        var d = new Date();
                        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));

                        var expires = "expires=" + d.toUTCString();
                        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
                    }

                    function readURLAndSetValue(input, name, placeholder) {

                        if (input.files && input.files[0]) {
                            var reader = new FileReader();

                            reader.onload = function (e) {
                                $("input[name='" + name + "']").val('image.jpg');
                                $(placeholder).attr('src', e.target.result);
                            }

                            reader.readAsDataURL(input.files[0]);
                        }
                    }

                    function readURL(input, placeholder) {

                        if (input.files && input.files[0]) {
                            var reader = new FileReader();

                            reader.onload = function (e) {
                                $(placeholder).attr('src', e.target.result);
                            }

                            reader.readAsDataURL(input.files[0]);
                        }
                    }

                    function getCookie(cname) {

                        var name = cname + "=";
                        var ca = document.cookie.split(';');

                        for (var i = 0; i < ca.length; i++) {
                            var c = ca[i];

                            while (c.charAt(0) == ' ') {
                                c = c.substring(1);
                            }

                            if (c.indexOf(name) == 0)
                                return c.substring(name.length, c.length);
                        }

                        return "";
                    }

                    $('.hide-welcome').on('click', function () {

                        setCookie("hide_welcome", "true", 365)

                        $("#welcome-modal").modal("hide");

                    })
                </script>


                <div class="modal" id="model-shorturl"></div>

                <script type="text/javascript">
                    $(".btn-delete").on('click', function () {
                        return confirm('Are you sure ?');
                    })

                    $(document).delegate("[payment_detail]", 'click', function (e) {

                        e.preventDefault();

                        e.stopPropagation();

                        $this = $(this);

                        var user_id = $this.attr("payment_detail");

                        $.ajax({

                            url: 'getpaymentdetail/' + user_id,

                            type: 'POST',

                            dataType: 'json',

                            beforeSend: function () {
                                $this.btn("loading");
                            },

                            complete: function () {
                                $this.btn("reset");
                            },

                            success: function (json) {

                                $('#payment-detail_modal').modal("show");

                                var html = '';

                                $.each(json['paymentlist'], function (i, j) {

                                    html += '<tr>';

                                    html += '<th>' + j['payment_bank_name'] + '</th>';

                                    html += '<th>' + j['payment_account_number'] + '</th>';

                                    html += '<th>' + j['payment_account_name'] + '</th>';

                                    html += '<th>' + j['payment_ifsc_code'] + '</th>';

                                    html += '</tr>';

                                })

                                $('#payment-detail_modal .bank-details').html(html);

                                var html = '';

                                $.each(json['paypalaccounts'], function (i, j) {

                                    html += '<tr>';

                                    html += '<th>' + (i + 1) + '</th>';

                                    html += '<th>' + j['paypal_email'] + '</th>';

                                    html += '</tr>';

                                })

                                $('#payment-detail_modal .paypal-details').html(html);

                                var html = '';

                                html += '<tr>';

                                html += '<th>First Name</th>';

                                html += '<td>' + json.user.firstname + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>Last Name</th>';

                                html += '<td>' + json.user.lastname + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>Username</th>';

                                html += '<td>' + json.user.username + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>Email</th>';

                                html += '<td>' + json.user.email + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>Phone</th>';

                                html += '<td>' + json.user.phone + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>Address</th>';

                                html += '<td>' + json.user.address + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>State</th>';

                                html += '<td>' + json.user.state + '</td>';

                                html += '</tr>';

                                html += '<tr>';

                                html += '<th>Country</th>';

                                html += '<td>' + json.user.country + '</td>';

                                html += '</tr>';

                                $('#payment-detail_modal .user-details').html(html);
                            },
                        })
                    })
                </script>

                <script src="{% static 'dashboard/assets/js/jquery-ui.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/js/jquery-confirm.min.js' %}"></script>

                <script src="{% static 'dashboard/assets/js/popper.min.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/js/bootstrap.min.js' %}"></script>

                <script src="{% static 'dashboard/assets/js/modernizr.min.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/js/detect.js' %}"></script>

                <script src="{% static 'dashboard/assets/js/fastclick.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/js/jquery.slimscroll.js' %}"></script>

                <script src="{% static 'dashboard/assets/js/jquery.blockUI.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/js/waves.js' %}"></script>

                <script src="{% static 'dashboard/assets/js/jquery.nicescroll.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/js/jquery.scrollTo.min.js' %}"></script>

                <script src="{% static 'dashboard/assets/vertical/assets/plugins/skycons/skycons.min.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/vertical/assets/plugins/raphael/raphael-min.js' %}"></script>

                <script src="{% static 'dashboard/assets/vertical/assets/plugins/morris/morris.min.js' %}"></script>

            <script src="
                {% static 'dashboard/assets/vertical/assets/plugins/magnific-popup/jquery.magnific-popup.min.js' %}"></script>

                <script src="{% static 'dashboard/assets/js/lightbox.js' %}"></script>

            <script src="{% static 'dashboard/assets/js/jssocials-1.4.0/jssocials.min.js' %}"></script>

                <link href="{% static 'dashboard/assets/js/jssocials-1.4.0/jssocials.css' %}" type="text/css"
                      rel="stylesheet"/>

                <link href="{% static 'dashboard/assets/js/jssocials-1.4.0/jssocials-theme-flat.css' %}"
                      type="text/css" rel="stylesheet"/>

                <script type="text/javascript">
                    let leftHeight = $(".left-menu").height();
                    let navbarHeight = $(".dashboard-navbar").height();
                    let errorHeight = $(".server-errors").height();
                    let footerHeight = $(".dashboard-footer").height();
                    let elTotalheight = navbarHeight + errorHeight + footerHeight;
                    let contentHeight = leftHeight - elTotalheight - 26;
                    $(".content-wrapper").css('min-height', contentHeight);

                    $(document).delegate(".copy-input input", 'click', function () {
                        $(this).select();
                    })

                    $(document).delegate('[copyToClipboard]', "click", function () {
                        $this = $(this);

                        var $temp = $("<input>");

                        $("body").append($temp);

                        $temp.val($(this).attr('copyToClipboard')).select();

                        document.execCommand("copy");

                        $temp.remove();

                        $this.tooltip('hide').attr('data-original-title', 'Copied!').tooltip('show');

                        setTimeout(function () {
                            $this.tooltip('hide');
                        }, 500);
                    });

                    $('[copyToClipboard]').tooltip({
                        trigger: 'click',
                        placement: 'bottom'

                    });

                    (function ($) {
                        $.fn.button = function (action) {
                            var self = $(this);
                            if (action == 'loading') {
                                if ($(self).attr("disabled") == "disabled") {
                                    //e.preventDefault();
                                }

                                $(self).attr("disabled", "disabled");

                                $(self).attr('data-btn-text', $(self).html());

                                $(self).html('<i class="fa fa-spinner fa-spin"></i>' + $(self).text());
                            }

                            if (action == 'reset') {
                                $(self).html($(self).attr('data-btn-text'));
                                $(self).removeAttr("disabled");
                            }
                        }

                    })(jQuery);
                </script>

                <script src="{% static 'dashboard/assets/js/app.js' %}"></script>

            <link href="{% static 'dashboard/assets/js/summernote-0.8.12-dist/summernote-bs4.css' %}" rel="stylesheet">

                <script src="{% static 'dashboard/assets/js/summernote-0.8.12-dist/summernote-bs4.js' %}"></script>

            <div class=" modal fade
                " id="ip-flag_model">

                <div class="modal-dialog">

                    <div class="modal-content">

                        <div class="modal-header">

                            <h4 class="modal-title">All IPs Details</h4>

                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>

                        </div>

                        <div class="modal-body"></div>

                        <div class="modal-footer">

                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                        </div>

                    </div>

                </div>

            </div>

            <script>
                $(".select2-input").select2();

                $(document).delegate(".view-all", 'click', function () {
                    var data = $(this).find("span").html();
                    var html = '<table class="table table-hover">';

                    data = JSON.parse(data);

                    html += '<tr>';

                    html += ' <th>' + 'admin.ip' + '</th>';

                    html += ' <th width="30px">' + 'admin.country' + '</th>';

                    html += '</tr>';

                    $.each(data, function (i, j) {
                        html += '<tr>';

                        html += ' <td>' + j['ip'] + '</td>';

                        html += ' <td><img style="width: 20px;" src="
                        {% static 'dashboard/assets/vertical/assets/images/flags/' + j['country_code'].toLowerCase() + '.png' %}" ></td>';

                        html += '</tr>';
                    })

                    html += '</table>';

                    $("#ip-flag_model").modal("show");

                    $("#ip-flag_model .modal-body").html(html);
                })

                $('[data-toggle="tooltip"]').tooltip();

                if ($('#morris-area-chart').length > 0) {
                    var areaData = [

                        {
                            y: '2011',
                            a: 10,
                            b: 15
                        },

                        {
                            y: '2012',
                            a: 30,
                            b: 35
                        },

                        {
                            y: '2013',
                            a: 10,
                            b: 25
                        },

                        {
                            y: '2014',
                            a: 55,
                            b: 45
                        },

                        {
                            y: '2015',
                            a: 30,
                            b: 20
                        },

                        {
                            y: '2016',
                            a: 40,
                            b: 35
                        },

                        {
                            y: '2017',
                            a: 10,
                            b: 25
                        },

                        {
                            y: '2018',
                            a: 25,
                            b: 30
                        }

                    ];

                    Morris.Area({

                        element: 'morris-area-chart',

                        pointSize: 3,

                        lineWidth: 2,

                        data: areaData,

                        xkey: 'y',

                        ykeys: ['a', 'b'],

                        labels: ['Orders', 'Sales'],

                        resize: true,

                        hideHover: 'auto',

                        gridLineColor: '#eef0f2',

                        lineColors: ['#00c292', '#03a9f3'],

                        lineWidth: 0,

                        fillOpacity: 0.1,

                        xLabelMargin: 10,

                        yLabelMargin: 10,

                        grid: false,

                        axes: false,

                        pointSize: 0

                    });
                }

                $(document).on('ready', function () {

                    if ($('#morris-donut-chart').length > 0) {
                        var donutData = [];

                        Morris.Donut({

                            element: 'morris-donut-chart',

                            data: donutData,

                            resize: true,

                            colors: ['#40a4f1', '#5b6be8', '#c1c5e2', '#e785da', '#00bcd2']

                        });

                    }

                    if ($("#boxscroll").length > 0)
                        $("#boxscroll").niceScroll({
                            cursorborder: "",
                            cursorcolor: "#cecece",
                            boxzoom: true
                        });

                    if ($("#boxscroll2").length > 0)
                        $("#boxscroll2").niceScroll({
                            cursorborder: "",
                            cursorcolor: "#cecece",
                            boxzoom: true
                        });


                    if ($(".clickable-row").length > 0) {
                        $(".clickable-row").on('click', function () {
                            window.location = $(this).data("href");
                        });
                    }

                    if ($("#Country").length > 0) {
                        $('#Country').on('change', function () {
                            country_id = $(this).val();

                            $.ajax({

                                type: "POST",

                                url: "getstate",

                                data: 'country_id=' + country_id,

                                success: function (data) {

                                    $("#StateProvince").html(data);

                                }

                            });

                        });
                    }

                });


                function shownofication(id, url) {

                    $.ajax({

                        type: "POST",

                        url: "updatenotify",

                        data: 'id=' + id,

                        dataType: 'json',

                        success: function (data) {

                            window.location.href = data['location'];

                        }

                    });

                }

                $(document).on('ready', function () {
                    $('.summernote-img').each(function () {
                        sumNote($(this));
                    });

                });

                function sumNote(element) {
                    var height = $(element).attr("data-height") ? $(element).attr("data-height") : 500;

                    $(element).summernote({

                        disableDragAndDrop: true,

                        height: height,


                        toolbar: [

                            ['style', ['style']],

                            ['font', ['bold', 'underline', 'clear']],

                            ['fontname', ['fontname']],

                            ['color', ['color']],

                            ['para', ['ul', 'ol', 'paragraph']],

                            ['table', ['table']],

                            ['insert', ['link', 'image', 'picture', 'video']],

                            ['view', ['fullscreen', 'codeview', 'help']]

                        ],

                        buttons: {

                            image: function () {

                                var ui = $.summernote.ui;

                                // create button

                                var button = ui.button({

                                    contents: '<i class="fa fa-image" />',

                                    tooltip: false,

                                    click: function () {

                                        $('#modal-image').remove();


                                        $.ajax({

                                            url: 'https://demo.affiliatepro.org/filemanager',

                                            dataType: 'html',

                                            beforeSend: function () {

                                            },
                                            complete: function () {

                                            },
                                            success: function (html) {

                                                $('body').append('<div id="modal-image" class="modal fade">' + html + '</div>');

                                                $('#modal-image').modal('show');

                                                $('#modal-image').delegate('.image-box .thumbnail', 'click', function (e) {

                                                    e.preventDefault();

                                                    $(element).summernote('insertImage', $(this).attr('href'));

                                                    $('#modal-image').modal('hide');

                                                });

                                            }

                                        });

                                    }

                                });


                                return button.render();

                            }

                        }

                    });

                }
            </script>
            </body>

{% endblock %}